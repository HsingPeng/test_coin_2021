"""
回测图标
"""

# 绘制三角螺旋线
from mpl_toolkits import mplot3d

import matplotlib.pyplot as plt
import numpy as np

data = [
    [0, 0.004, 1650.35, 3.908431305280672e-31],
    [0, 0.005, 1650.35, 1.9833672149896045e-19],
    [0, 0.007, 1650.35, 5.4552671181475125e-08],
    [0, 0.01, 1650.35, 0.021855087289392956],
    [0, 0.02, 1667.98, 63.54886297649254],
    [0, 0.03, 1667.98, 179.55255537193727],
    [0, 0.04, 1628.23, 361.53455838649734],
    [1, 0.004, 1650.35, 1.3885175519774992e-21],
    [1, 0.005, 1650.35, 1.0496998278351776e-10],
    [1, 0.007, 1661.78, 0.2930765387744945],
    [1, 0.01, 1647.2, 475.7290597593576],
    [1, 0.02, 1666.42, 1540.0326613662141],
    [1, 0.03, 1646.49, 1128.2545811465109],
    [1, 0.04, 1667.98, 937.2282764772044],
    [2, 0.004, 1650.35, 8.548554464800348e-25],
    [2, 0.005, 1650.35, 1.2626838715791823e-12],
    [2, 0.007, 1650.35, 0.06142876089385223],
    [2, 0.01, 1664.66, 396.53840121932933],
    [2, 0.02, 1667.98, 3428.8855160681464],
    [2, 0.03, 1633.21, 1313.457292450359],
    [2, 0.04, 1613.91, 578.9959163548383],
    [3, 0.004, 1650.35, 6.911492619993612e-28],
    [3, 0.005, 1650.35, 1.3736588207742776e-14],
    [3, 0.007, 1650.35, 0.008704706702516406],
    [3, 0.01, 1667.98, 281.59706605801205],
    [3, 0.02, 1667.98, 3128.6321917419336],
    [3, 0.03, 1639.45, 1260.3866655906793],
    [3, 0.04, 1667.98, 897.7564581841232],
]

fig = plt.figure()  # 定义新的三维坐标轴
ax = plt.axes(projection='3d')

# 三维散点的数据
xdata = []
ydata = []
zdata = []
for i in data:
    xdata.append(i[0])
    ydata.append(i[1])
    zdata.append(i[3])

ax.scatter3D(xdata, ydata, zdata, c=zdata, cmap='Blues')

# 作图
ax.plot_trisurf(xdata, ydata, zdata, cmap='rainbow')
plt.show()
